/* Shop page – mobile-first */

/* دکمه تم داخل هدر */
.nav-theme-btn{
  width:40px;height:40px;border-radius:50%;border:1px solid var(--gold);
  background:transparent;color:var(--gold);display:flex;align-items:center;justify-content:center;
  margin-left:10px;cursor:pointer;transition:transform .2s ease;
}
.nav-theme-btn:hover{ transform:scale(1.05); }
.nav-theme-btn .sun-icon{ display:inline-block; }
.nav-theme-btn .moon-icon{ display:none; }
[data-theme="dark"] .nav-theme-btn .sun-icon{ display:none; }
[data-theme="dark"] .nav-theme-btn .moon-icon{ display:inline-block; }

/* دکمه بازگشت به بالا در فروشگاه مخفی باشد */
.scroll-top{ display:none !important; }

/* مینی‌سبد پایین-چپ */
.mini-cart-pill{
  position: fixed; left: 16px; right:auto; bottom: calc(16px + var(--kb, 0px)); z-index:1001;
  display:flex; align-items:center; gap:8px; padding:10px 12px; border-radius:16px;
  border:1px solid var(--gold); background:var(--bg-primary); color:var(--gold);
  box-shadow:0 10px 24px rgba(212,175,55,.18);
}
.mini-cart-pill #miniCartCount{
  background:#ff4444;color:#fff;border-radius:10px;padding:2px 6px;font-size:12px;font-weight:800;
}
.mini-cart-pill.bump{ animation: pill-bump .35s ease; }
@keyframes pill-bump{ 0%{ transform: scale(1) } 40%{ transform: scale(1.1) } 100%{ transform: scale(1) } }

/* انیمیشن پرواز به سبد */
.fly-img{
  position:fixed; width:80px; height:80px; object-fit:cover; border-radius:10px;
  box-shadow:0 8px 20px rgba(0,0,0,.25); z-index:1002; pointer-events:none;
  transition: transform .8s cubic-bezier(.2,.7,.2,1), opacity .8s ease;
}

/* فیکس منوی موبایل: تمام‌قد و اسلاید سالم */
.mobile-menu{
  left:0 !important; right:auto !important; width:100vw !important; max-width:100vw !important;
  transform: translateX(100%); will-change: transform;
  transition: transform .35s cubic-bezier(0.175,0.885,0.32,1.275);
  z-index:1002;
}
.mobile-menu.active{ transform: translateX(0); }

/* Hero */
.shop-hero{ position:relative; padding:90px 0 40px; overflow:hidden; }
.shop-hero-bg{ position:absolute; inset:0; z-index:-1; }
.shop-hero-bg img{ width:100%; height:100%; object-fit:cover; filter:contrast(1.05) brightness(.9); }
.shop-hero-overlay{
  position:absolute; inset:0;
  background: radial-gradient(ellipse at 60% 30%, rgba(212,175,55,.15), transparent 40%),
              linear-gradient(180deg, rgba(0,0,0,.75), rgba(0,0,0,.4));
}
.shop-hero .shop-hero-content{ text-align:center; }
.shop-hero .shop-title{ font-family:var(--font-nastaliq); color:var(--gold); font-size:40px; margin:8px 0; letter-spacing:.3px; }
.shop-hero .shop-subtitle{ color:#ddd; opacity:.9; font-size:14px; }

/* Toolbar */
.shop-toolbar{ position:sticky; top:70px; z-index:20; background:var(--bg-secondary); border-bottom:1px solid var(--border-color); padding:12px 0; }
.toolbar-row{ display:flex; gap:10px; align-items:center; justify-content:space-between; }
.toolbar-search{ flex:1; display:flex; align-items:center; gap:8px; background:var(--bg-primary); border:1px solid var(--border-color); border-radius:14px; padding:12px 14px; }
.toolbar-search i{ color:var(--text-tertiary); }
.toolbar-search input{ flex:1; background:transparent; border:none; color:var(--text-primary); outline:none; font:inherit; }
.toolbar-search button{ background:transparent; border:none; color:var(--text-tertiary); cursor:pointer; display:none; }
.toolbar-search input:not(:placeholder-shown) + button{ display:block; }

.toolbar-actions{ display:flex; align-items:center; gap:10px; }
.btn-sm{ padding:10px 12px; border-radius:12px; font-size:14px; }
.sort-select{ display:flex; align-items:center; gap:8px; padding:10px 12px; border:1px solid var(--border-color); border-radius:12px; background:var(--bg-primary); }
.sort-select select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:var(--bg-primary); color:var(--text-primary);
  padding-inline-end: 18px; border:none; outline:none; font:inherit;
}
.sort-select option{ background:var(--bg-primary); color:var(--text-primary); }

/* Chips */
.chips-row{ display:flex; gap:8px; overflow:auto; padding:10px 0; scroll-snap-type:x mandatory; }
.chips-row::-webkit-scrollbar{ display:none; }
.chip{ flex:0 0 auto; scroll-snap-align:start; padding:10px 16px; border-radius:20px; border:1px solid var(--border-color); background:var(--bg-primary); color:var(--text-primary); cursor:pointer; transition:var(--transition); display:flex; align-items:center; gap:8px; font-size:14px; }
.chip.active, .chip:hover{ border-color:var(--gold); color:var(--gold); transform:translateY(-2px); }

/* Results */
.results-row{ display:flex; justify-content:space-between; align-items:center; padding:6px 0 12px; color:var(--text-tertiary); font-size:13px; }
.link-reset{ background:none; border:none; color:var(--gold); cursor:pointer; }

/* Grid – موبایل‌محور، کارت‌های بزرگ‌تر و خلوت */
.shop-grid-section{ padding:20px 0 70px; }
.products-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:16px; }
@media(min-width:768px){ .products-grid{ grid-template-columns:repeat(3,1fr); gap:18px; } }
@media(min-width:1200px){ .products-grid{ grid-template-columns:repeat(3,1fr); gap:22px; } }

.product-card{ position:relative; overflow:hidden; border:1px solid var(--border-color); border-radius:16px; background:var(--bg-secondary); transition:transform .25s ease, box-shadow .25s ease; }
.product-card:hover{ transform:translateY(-6px); box-shadow:0 20px 40px rgba(0,0,0,.15); border-color:var(--gold); }

.product-thumb{ position:relative; height:260px; overflow:hidden; background:var(--bg-primary); }
.product-thumb img{ width:100%; height:100%; object-fit:cover; transition:transform .5s ease; }
.product-card:hover .product-thumb img{ transform:scale(1.07); }

.badges{ position:absolute; top:10px; right:10px; display:flex; gap:6px; z-index:2; }
.badge{ padding:4px 10px; border-radius:12px; font-size:11px; color:var(--black); background:var(--gold); }
.badge.new{ background:#00c851; color:#fff; }
.badge.sale{ background:#ff4444; color:#fff; }

.wishlist-btn{ position:absolute; top:10px; left:10px; z-index:2; width:36px; height:36px; border-radius:50%; border:none; background:rgba(0,0,0,.35); color:#fff; cursor:pointer; transition:transform .2s; display:flex; align-items:center; justify-content:center; }
.wishlist-btn.active, .wishlist-btn:hover{ transform:scale(1.05); background:var(--gold); color:var(--black); }

.quickview-btn{ position:absolute; bottom:10px; right:10px; z-index:2; padding:8px 12px; border-radius:12px; border:none; background:rgba(0,0,0,.4); color:#fff; cursor:pointer; backdrop-filter: blur(6px); font-size:12px; }
.product-info{ padding:12px; }
.product-title{ color:var(--text-primary); font-weight:600; font-size:15px; line-height:1.6; min-height:44px; }
.product-meta{ display:flex; justify-content:space-between; align-items:center; margin-top:8px; }
.rating{ color:var(--gold); font-size:12px; }
.price{ display:flex; gap:8px; align-items:center; }
.price-current{ color:var(--gold); font-weight:800; }
.price-old{ color:var(--text-tertiary); text-decoration:line-through; font-size:12px; }

.card-actions{ padding:12px; display:flex; gap:10px; }
.btn-add{ flex:1; border:none; border-radius:12px; background:linear-gradient(135deg, var(--gold), var(--gold-dark)); color:var(--black); padding:10px 14px; cursor:pointer; font-weight:700; font-size:14px; }
.btn-ghost{ border:1px solid var(--border-color); background:transparent; color:var(--text-primary); border-radius:12px; padding:10px 12px; }

/* Skeleton */
.card-skeleton{ height:340px; border-radius:16px; background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.08), rgba(255,255,255,.04)); animation:skeleton 1.2s infinite; border:1px solid var(--border-color); }
@keyframes skeleton{ 0%{ background-position:-200px 0 } 100%{ background-position:calc(200px + 100%) 0 } }

/* Grid actions */
.grid-actions{ text-align:center; margin-top:18px; }
#loadMore i{ margin-left:8px; }

/* Empty state */
.empty-state{ text-align:center; padding:40px 10px; border:1px dashed var(--border-color); border-radius:16px; background:var(--bg-secondary); }
.empty-illustration{ font-size:40px; color:var(--text-tertiary); margin-bottom:10px; }

/* Drawer (filters) */
.filter-drawer{ position:fixed; inset:0; z-index:1002; display:none; }
.filter-drawer.active{ display:block; }
.drawer-overlay{ position:absolute; inset:0; background:rgba(0,0,0,.45); }
.drawer-panel{ position:absolute; right:0; bottom:0; left:0; background:var(--bg-secondary); border-radius:18px 18px 0 0; border-top:1px solid var(--gold); transform:translateY(100%); transition:transform .3s ease; max-height:85vh; overflow:auto; }
.filter-drawer.active .drawer-panel{ transform:translateY(0); }
.drawer-header{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; position:sticky; top:0; background:linear-gradient(135deg, var(--gold), var(--gold-dark)); }
.drawer-header h3{ color:var(--black); font-size:16px; margin:0; }
.drawer-close{ border:none; background:transparent; color:var(--black); font-size:20px; cursor:pointer; }
.drawer-body{ padding:14px 16px 10px; display:grid; gap:16px; }
.filter-block{ background:var(--bg-primary); border:1px solid var(--border-color); border-radius:14px; padding:14px; }
.filter-title{ color:var(--text-primary); font-weight:700; margin-bottom:10px; display:flex; align-items:center; gap:8px; }
.range-row{ position:relative; height:36px; }
.range-row input[type="range"]{ position:absolute; left:0; right:0; top:14px; width:100%; -webkit-appearance:none; background:none; pointer-events:all; }
.range-row input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; width:20px; height:20px; border-radius:50%; background:var(--gold); border:2px solid var(--black); cursor:pointer; }
.range-row input[type="range"]::-moz-range-thumb{ width:20px; height:20px; border-radius:50%; background:var(--gold); border:2px solid var(--black); cursor:pointer; }
.range-track{ position:absolute; left:0; right:0; top:22px; height:4px; background:var(--border-color); border-radius:2px; }
.range-values{ display:flex; justify-content:space-between; margin-top:6px; font-size:13px; color:var(--text-secondary); }

.color-swatches{ display:flex; gap:8px; flex-wrap:wrap; }
.swatch{ width:28px; height:28px; border-radius:50%; border:2px solid var(--border-color); background:var(--c,#ccc); cursor:pointer; position:relative; }
.swatch.active{ border-color:var(--gold); box-shadow:0 0 0 3px rgba(212,175,55,.2); }
.color-swatches.small .swatch{ width:24px; height:24px; }

.size-chips{ display:flex; gap:8px; flex-wrap:wrap; }
.size-chip{ padding:8px 10px; border:1px solid var(--border-color); border-radius:10px; background:var(--bg-primary); cursor:pointer; }
.size-chip.active{ border-color:var(--gold); color:var(--gold); }

.rating-rows label{ display:block; padding:6px 0; color:var(--text-secondary); }
.brand-list{ display:flex; flex-wrap:wrap; gap:10px; }
.brand-item{ padding:8px 12px; border:1px solid var(--border-color); border-radius:10px; background:var(--bg-primary); cursor:pointer; }
.brand-item.active{ border-color:var(--gold); color:var(--gold); }

.drawer-footer{ position:sticky; bottom:0; background:var(--bg-secondary); padding:12px 16px; display:flex; gap:10px; border-top:1px solid var(--border-color); }

/* Quick View */
.quickview{ position:fixed; inset:0; z-index:1003; display:none; }
.quickview.active{ display:block; }
.qv-overlay{ position:absolute; inset:0; background:rgba(0,0,0,.5); }
.qv-panel{ position:absolute; right:0; bottom:0; left:0; max-height:90vh; background:var(--bg-secondary); border-radius:18px 18px 0 0; border-top:1px solid var(--gold); transform:translateY(100%); transition:transform .3s ease; }
.quickview.active .qv-panel{ transform:translateY(0); }
.qv-close{ position:absolute; top:8px; left:8px; z-index:2; border:none; background:transparent; color:var(--text-primary); font-size:22px; }
.qv-body{ display:grid; grid-template-columns:1fr; gap:12px; padding:16px; }
.qv-gallery{ height:280px; overflow:hidden; border-radius:12px; background:var(--bg-primary); }
.qv-info h3{ margin:0 0 6px; color:var(--text-primary); }
.qv-rating{ color:var(--gold); font-size:13px; margin-bottom:4px; }
.qv-price{ display:flex; align-items:center; gap:8px; margin:8px 0 12px; }
.qv-price .price-old{ text-decoration:line-through; color:var(--text-tertiary); }
.qv-price .badge.sale{ padding:2px 8px; border-radius:10px; background:#ff4444; color:#fff; font-size:11px; }
.qv-row{ display:flex; align-items:center; gap:10px; margin-bottom:10px; }
.qv-row label{ color:var(--text-secondary); min-width:44px; }
.qty-row .qty-control{ display:flex; align-items:center; gap:8px; background:var(--bg-primary); border:1px solid var(--border-color); border-radius:10px; padding:6px; }
.qty-control button{ border:none; background:transparent; color:var(--text-primary); width:28px; height:28px; border-radius:8px; }
.qty-control input{ width:48px; text-align:center; background:transparent; border:none; color:var(--text-primary); }
.qv-actions .btn{ width:100%; margin-top:8px; }

@media(min-width:992px){
  .qv-panel{ right:auto; left:auto; top:50%; bottom:auto; transform:translate(-50%,-50%) scale(.98); left:50%; width:min(960px, 92vw); border-radius:16px; }
  .quickview.active .qv-panel{ transform:translate(-50%,-50%) scale(1); }
  .qv-body{ grid-template-columns:1.1fr 1fr; gap:20px; }
  .qv-gallery{ height:420px; }
}

/* Desktop tweaks */
@media(min-width:992px){
  .shop-toolbar{ top:70px; }
  .toolbar-row{ gap:16px; }
  .product-thumb{ height: 280px; }
}
/* Shop page – mobile-first */

/* جلوگیری از اسکرول افقی و بیرون‌زدگی */
html, body{ overflow-x:hidden; width:100%; }

/* دکمه تم داخل هدر */
.nav-theme-btn{
  width:40px;height:40px;border-radius:50%;border:1px solid var(--gold);
  background:transparent;color:var(--gold);display:flex;align-items:center;justify-content:center;
  margin-left:10px;cursor:pointer;transition:transform .2s ease;
}
.nav-theme-btn:hover{ transform:scale(1.05); }
.nav-theme-btn .sun-icon{ display:inline-block; }
.nav-theme-btn .moon-icon{ display:none; }
[data-theme="dark"] .nav-theme-btn .sun-icon{ display:none; }
[data-theme="dark"] .nav-theme-btn .moon-icon{ display:inline-block; }

/* مینی‌سبد پایین-چپ */
.mini-cart-pill{
  position: fixed; left: 16px; right:auto; bottom: calc(16px + var(--kb, 0px)); z-index:1001;
  display:flex; align-items:center; gap:8px; padding:10px 12px; border-radius:16px;
  border:1px solid var(--gold); background:var(--bg-primary); color:var(--gold);
  box-shadow:0 10px 24px rgba(212,175,55,.18);
}
.mini-cart-pill #miniCartCount{
  background:#ff4444;color:#fff;border-radius:10px;padding:2px 6px;font-size:12px;font-weight:800;
}
.mini-cart-pill.bump{ animation: pill-bump .35s ease; }
@keyframes pill-bump{ 0%{ transform: scale(1) } 40%{ transform: scale(1.1) } 100%{ transform: scale(1) } }

/* دکمه بازگشت به بالا در فروشگاه مخفی باشد */
.scroll-top{ display:none !important; }

/* ====== فیکس منوی موبایل (کاملاً خارج کادر در حالت بسته) ====== */
.mobile-menu{
  position:fixed; top:0; right:0; left:auto !important; height:100dvh;
  width:min(92vw, 380px) !important; max-width:92vw;
  background:var(--bg-secondary); border-left:1px solid var(--border-color);
  transform: translateX(120%) !important; /* کاملاً بیرون کادر */
  visibility:hidden; pointer-events:none;
  transition: transform .35s cubic-bezier(0.175,0.885,0.32,1.275), visibility 0s linear .35s;
  z-index:1002; overflow-y:auto; overscroll-behavior:contain; box-shadow:-5px 0 20px rgba(0,0,0,.3);
}
.mobile-menu.active{
  transform: translateX(0) !important;
  visibility:visible; pointer-events:auto;
  transition: transform .35s cubic-bezier(0.175,0.885,0.32,1.275), visibility 0s;
}
.mobile-menu-body{ min-height:100%; }
.mobile-submenu{ display:none; }
.has-submenu.active .mobile-submenu{ display:block; animation: slideDown .3s ease; }
@keyframes slideDown{ from{opacity:0; transform:translateY(-6px)} to{opacity:1; transform:none} }

/* در صورت وجود overlay عمومی */
.overlay.mobile-menu-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.45); opacity:0; transition:opacity .3s; z-index:1001; }
.overlay.mobile-menu-overlay.active{ opacity:1; }

/* ====== انیمیشن پرواز به سبد (نسخه Bezier) ====== */
.fly-wrap{
  position:fixed; top:0; left:0; width:90px; height:90px; pointer-events:none; z-index:1002;
  transform:translate(0,0);
}
.fly-img{
  width:90px; height:90px; object-fit:cover; border-radius:12px;
  box-shadow:0 12px 28px rgba(0,0,0,.25);
  backface-visibility:hidden; will-change:transform,opacity;
}

/* Hero */
.shop-hero{ position:relative; padding:90px 0 40px; overflow:hidden; }
.shop-hero-bg{ position:absolute; inset:0; z-index:-1; }
.shop-hero-bg img{ width:100%; height:100%; object-fit:cover; filter:contrast(1.05) brightness(.9); }
.shop-hero-overlay{
  position:absolute; inset:0;
  background: radial-gradient(ellipse at 60% 30%, rgba(212,175,55,.15), transparent 40%),
              linear-gradient(180deg, rgba(0,0,0,.75), rgba(0,0,0,.4));
}
.shop-hero .shop-hero-content{ text-align:center; }
.shop-hero .shop-title{ font-family:var(--font-nastaliq); color:var(--gold); font-size:40px; margin:8px 0; letter-spacing:.3px; }
.shop-hero .shop-subtitle{ color:#ddd; opacity:.9; font-size:14px; }

/* Toolbar */
.shop-toolbar{ position:sticky; top:70px; z-index:20; background:var(--bg-secondary); border-bottom:1px solid var(--border-color); padding:12px 0; }
.toolbar-row{ display:flex; gap:10px; align-items:center; justify-content:space-between; }
.toolbar-search{ flex:1; display:flex; align-items:center; gap:8px; background:var(--bg-primary); border:1px solid var(--border-color); border-radius:14px; padding:12px 14px; }
.toolbar-search i{ color:var(--text-tertiary); }
.toolbar-search input{ flex:1; background:transparent; border:none; color:var(--text-primary); outline:none; font:inherit; }
.toolbar-search button{ background:transparent; border:none; color:var(--text-tertiary); cursor:pointer; display:none; }
.toolbar-search input:not(:placeholder-shown) + button{ display:block; }

.toolbar-actions{ display:flex; align-items:center; gap:10px; }
.btn-sm{ padding:10px 12px; border-radius:12px; font-size:14px; }
.sort-select{ display:flex; align-items:center; gap:8px; padding:10px 12px; border:1px solid var(--border-color); border-radius:12px; background:var(--bg-primary); }
.sort-select select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:var(--bg-primary); color:var(--text-primary);
  padding-inline-end: 18px; border:none; outline:none; font:inherit;
}
.sort-select option{ background:var(--bg-primary); color:var(--text-primary); }

/* Chips */
.chips-row{ display:flex; gap:8px; overflow:auto; padding:10px 0; scroll-snap-type:x mandatory; }
.chips-row::-webkit-scrollbar{ display:none; }
.chip{ flex:0 0 auto; scroll-snap-align:start; padding:10px 16px; border-radius:20px; border:1px solid var(--border-color); background:var(--bg-primary); color:var(--text-primary); cursor:pointer; transition:var(--transition); display:flex; align-items:center; gap:8px; font-size:14px; }
.chip.active, .chip:hover{ border-color:var(--gold); color:var(--gold); transform:translateY(-2px); }

/* Results */
.results-row{ display:flex; justify-content:space-between; align-items:center; padding:6px 0 12px; color:var(--text-tertiary); font-size:13px; }
.link-reset{ background:none; border:none; color:var(--gold); cursor:pointer; }

/* Grid – موبایل‌محور، کارت‌های بزرگ‌تر و خلوت */
.shop-grid-section{ padding:20px 0 70px; }
.products-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:16px; }
@media(min-width:768px){ .products-grid{ grid-template-columns:repeat(3,1fr); gap:18px; } }
@media(min-width:1200px){ .products-grid{ grid-template-columns:repeat(3,1fr); gap:22px; } }

.product-card{ position:relative; overflow:hidden; border:1px solid var(--border-color); border-radius:16px; background:var(--bg-secondary); transition:transform .25s ease, box-shadow .25s ease; }
.product-card:hover{ transform:translateY(-6px); box-shadow:0 20px 40px rgba(0,0,0,.15); border-color:var(--gold); }

.product-thumb{ position:relative; height:260px; overflow:hidden; background:var(--bg-primary); }
.product-thumb img{ width:100%; height:100%; object-fit:cover; transition:transform .5s ease; }
.product-card:hover .product-thumb img{ transform:scale(1.07); }

.badges{ position:absolute; top:10px; right:10px; display:flex; gap:6px; z-index:2; }
.badge{ padding:4px 10px; border-radius:12px; font-size:11px; color:var(--black); background:var(--gold); }
.badge.new{ background:#00c851; color:#fff; }
.badge.sale{ background:#ff4444; color:#fff; }

.wishlist-btn{ position:absolute; top:10px; left:10px; z-index:2; width:36px; height:36px; border-radius:50%; border:none; background:rgba(0,0,0,.35); color:#fff; cursor:pointer; transition:transform .2s; display:flex; align-items:center; justify-content:center; }
.wishlist-btn.active, .wishlist-btn:hover{ transform:scale(1.05); background:var(--gold); color:var(--black); }

.quickview-btn{ position:absolute; bottom:10px; right:10px; z-index:2; padding:8px 12px; border-radius:12px; border:none; background:rgba(0,0,0,.4); color:#fff; cursor:pointer; backdrop-filter: blur(6px); font-size:12px; }
.product-info{ padding:12px; }
.product-title{ color:var(--text-primary); font-weight:600; font-size:15px; line-height:1.6; min-height:44px; }
.product-meta{ display:flex; justify-content:space-between; align-items:center; margin-top:8px; }
.rating{ color:var(--gold); font-size:12px; }
.price{ display:flex; gap:8px; align-items:center; }
.price-current{ color:var(--gold); font-weight:800; }
.price-old{ color:var(--text-tertiary); text-decoration:line-through; font-size:12px; }

.card-actions{ padding:12px; display:flex; gap:10px; }
.btn-add{ flex:1; border:none; border-radius:12px; background:linear-gradient(135deg, var(--gold), var(--gold-dark)); color:var(--black); padding:10px 14px; cursor:pointer; font-weight:700; font-size:14px; }
.btn-ghost{ border:1px solid var(--border-color); background:transparent; color:var(--text-primary); border-radius:12px; padding:10px 12px; }

/* Skeleton */
.card-skeleton{ height:340px; border-radius:16px; background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.08), rgba(255,255,255,.04)); animation:skeleton 1.2s infinite; border:1px solid var(--border-color); }
@keyframes skeleton{ 0%{ background-position:-200px 0 } 100%{ background-position:calc(200px + 100%) 0 } }

/* Grid actions */
.grid-actions{ text-align:center; margin-top:18px; }
#loadMore i{ margin-left:8px; }

/* Empty state */
.empty-state{ text-align:center; padding:40px 10px; border:1px dashed var(--border-color); border-radius:16px; background:var(--bg-secondary); }
.empty-illustration{ font-size:40px; color:var(--text-tertiary); margin-bottom:10px; }

/* Drawer (filters) */
.filter-drawer{ position:fixed; inset:0; z-index:1002; display:none; }
.filter-drawer.active{ display:block; }
.drawer-overlay{ position:absolute; inset:0; background:rgba(0,0,0,.45); }
.drawer-panel{ position:absolute; right:0; bottom:0; left:0; background:var(--bg-secondary); border-radius:18px 18px 0 0; border-top:1px solid var(--gold); transform:translateY(100%); transition:transform .3s ease; max-height:85vh; overflow:auto; }
.filter-drawer.active .drawer-panel{ transform:translateY(0); }
.drawer-header{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; position:sticky; top:0; background:linear-gradient(135deg, var(--gold), var(--gold-dark)); }
.drawer-header h3{ color:var(--black); font-size:16px; margin:0; }
.drawer-close{ border:none; background:transparent; color:var(--black); font-size:20px; cursor:pointer; }
.drawer-body{ padding:14px 16px 10px; display:grid; gap:16px; }
.filter-block{ background:var(--bg-primary); border:1px solid var(--border-color); border-radius:14px; padding:14px; }
.filter-title{ color:var(--text-primary); font-weight:700; margin-bottom:10px; display:flex; align-items:center; gap:8px; }
.range-row{ position:relative; height:36px; }
.range-row input[type="range"]{ position:absolute; left:0; right:0; top:14px; width:100%; -webkit-appearance:none; background:none; pointer-events:all; }
.range-row input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; width:20px; height:20px; border-radius:50%; background:var(--gold); border:2px solid var(--black); cursor:pointer; }
.range-row input[type="range"]::-moz-range-thumb{ width:20px; height:20px; border-radius:50%; background:var(--gold); border:2px solid var(--black); cursor:pointer; }
.range-track{ position:absolute; left:0; right:0; top:22px; height:4px; background:var(--border-color); border-radius:2px; }
.range-values{ display:flex; justify-content:space-between; margin-top:6px; font-size:13px; color:var(--text-secondary); }

.color-swatches{ display:flex; gap:8px; flex-wrap:wrap; }
.swatch{ width:28px; height:28px; border-radius:50%; border:2px solid var(--border-color); background:var(--c,#ccc); cursor:pointer; position:relative; }
.swatch.active{ border-color:var(--gold); box-shadow:0 0 0 3px rgba(212,175,55,.2); }
.color-swatches.small .swatch{ width:24px; height:24px; }

.size-chips{ display:flex; gap:8px; flex-wrap:wrap; }
.size-chip{ padding:8px 10px; border:1px solid var(--border-color); border-radius:10px; background:var(--bg-primary); cursor:pointer; }
.size-chip.active{ border-color:var(--gold); color:var(--gold); }

.rating-rows label{ display:block; padding:6px 0; color:var(--text-secondary); }
.brand-list{ display:flex; flex-wrap:wrap; gap:10px; }
.brand-item{ padding:8px 12px; border:1px solid var(--border-color); border-radius:10px; background:var(--bg-primary); cursor:pointer; }
.brand-item.active{ border-color:var(--gold); color:var(--gold); }

.drawer-footer{ position:sticky; bottom:0; background:var(--bg-secondary); padding:12px 16px; display:flex; gap:10px; border-top:1px solid var(--border-color); }

/* Quick View */
.quickview{ position:fixed; inset:0; z-index:1003; display:none; }
.quickview.active{ display:block; }
.qv-overlay{ position:absolute; inset:0; background:rgba(0,0,0,.5); }
.qv-panel{ position:absolute; right:0; bottom:0; left:0; max-height:90vh; background:var(--bg-secondary); border-radius:18px 18px 0 0; border-top:1px solid var(--gold); transform:translateY(100%); transition:transform .3s ease; }
.quickview.active .qv-panel{ transform:translateY(0); }
.qv-close{ position:absolute; top:8px; left:8px; z-index:2; border:none; background:transparent; color:var(--text-primary); font-size:22px; }
.qv-body{ display:grid; grid-template-columns:1fr; gap:12px; padding:16px; }
.qv-gallery{ height:280px; overflow:hidden; border-radius:12px; background:var(--bg-primary); }
.qv-info h3{ margin:0 0 6px; color:var(--text-primary); }
.qv-rating{ color:var(--gold); font-size:13px; margin-bottom:4px; }
.qv-price{ display:flex; align-items:center; gap:8px; margin:8px 0 12px; }
.qv-price .price-old{ text-decoration:line-through; color:var(--text-tertiary); }
.qv-price .badge.sale{ padding:2px 8px; border-radius:10px; background:#ff4444; color:#fff; font-size:11px; }
.qv-row{ display:flex; align-items:center; gap:10px; margin-bottom:10px; }
.qv-row label{ color:var(--text-secondary); min-width:44px; }
.qty-row .qty-control{ display:flex; align-items:center; gap:8px; background:var(--bg-primary); border:1px solid var(--border-color); border-radius:10px; padding:6px; }
.qty-control button{ border:none; background:transparent; color:var(--text-primary); width:28px; height:28px; border-radius:8px; }
.qty-control input{ width:48px; text-align:center; background:transparent; border:none; color:var(--text-primary); }
.qv-actions .btn{ width:100%; margin-top:8px; }

@media(min-width:992px){
  .qv-panel{ right:auto; left:auto; top:50%; bottom:auto; transform:translate(-50%,-50%) scale(.98); left:50%; width:min(960px, 92vw); border-radius:16px; }
  .quickview.active .qv-panel{ transform:translate(-50%,-50%) scale(1); }
  .qv-body{ grid-template-columns:1.1fr 1fr; gap:20px; }
  .qv-gallery{ height:420px; }
}

/* Desktop tweaks */
@media(min-width:992px){
  .shop-toolbar{ top:70px; }
  .toolbar-row{ gap:16px; }
  .product-thumb{ height: 280px; }
}